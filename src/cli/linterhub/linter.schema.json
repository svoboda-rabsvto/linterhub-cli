{
  "$schema": "http://json-schema.org/draft-04/schema",
  "title": "linter schema",
  "description": "linter configuration",
  "type": "object",
  "allOf": [
    {
      "$ref": "#/definitions/options"
    }
  ],
  "required": [
    "name",
    "description",
    "languages",
    "license",
    "areas"
  ],
  "definitions": {
    "options": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "Linter name"
        },
        "description": {
          "type": "string",
          "description": "Linter description"
        },
        "url": {
          "type": "string",
          "description": "Linter url",
          "format": "uri"
        },
        "version": {
          "description": "Linter version (expected)",
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "object",
              "properties": {
                "manager": {
                  "type": "string",
                  "description": "Manager version"
                },
                "local": {
                  "type": "string",
                  "description": "Local version"
                }
              }
            }
          ]
        },
        "languages": {
          "type": "array",
          "description": "Linter supported languages",
          "items": {
            "type": "string",
            "enum": [
              "coffeescript",
              "css",
              "html",
              "javascript",
              "json",
              "jsx",
              "sass",
              "typescript"
            ]
          }
        },
        "extensions": {
          "type": "array",
          "description": "Common file extensions parsed by linter",
          "items": {
            "type": "string"
          }
        },
        "license": {
          "type": "string",
          "description": "Linter license",
          "enum": [
            "Unknown",
            "AGPL-3.0",
            "Apache-2.0",
            "MIT"
          ]
        },
        "requirements": {
          "type": "array",
          "description": "Linter requirements",
          "items": {
            "anyOf": [
              {
                "type": "object",
                "properties": {
                  "os": {
                    "type": "string",
                    "enum": [
                      "any",
                      "windows",
                      "osx",
                      "linux"
                    ]
                  }
                }
              },
              {
                "type": "object",
                "properties": {
                  "manager": {
                    "type": "string",
                    "enum": [
                      "no",
                      "composer",
                      "gem",
                      "npm",
                      "pip"
                    ]
                  },
                  "package": {
                    "type": "string"
                  }
                }
              }
            ]
          }
        },
        "areas": {
          "type": "array",
          "description": "Linter areas",
          "items": {
            "type": "string",
            "enum": [
              "code simplification",
              "commented code",
              "complexity",
              "documentation",
              "duplication",
              "formatting",
              "grammar",
              "memory leak",
              "security",
              "simplification",
              "smell",
              "spelling",
              "syntax",
              "undefined element",
              "unreachable code",
              "unused code"
            ]
          }
        },
        "defaults": {
          "description": "Default configuration",
          "anyOf": [
            { "$ref": "./standard/args.schema.json" }
          ]
        },
        "path": {
          "type": "object",
          "description": " Path configuration",
          "properties": {
            "position": {
              "type": "string",
              "description": "Path position in arguments",
              "enum": [
                "start",
                "end"
              ],
              "default": "end"
            },
            "type": {
              "type": "array",
              "description": "File or folder restrictions",
              "items": {
                "type": "string",
                "enum": [
                  "file",
                  "folder"
                ]
              },
              "default": [ "file", "folder" ],
              "uniqueItems": true
            }
          }
        },
        "prefix": {
          "type": "string",
          "description": "Prefix in terminal (normally linter name)"
        },
        "postfix": {
          "type": "string",
          "description": "Postfix in terminal (normaly post processor)"
        },
        "optionsDelimiter": {
          "type": "string",
          "description": "Delimiter for options (space by default)"
        },
        "successCode": {
          "type": "integer",
          "description": "Success exit code"
        }
      }
    }
  }
}